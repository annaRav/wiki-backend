# GraalVM Native Image configuration for Spring Cloud Gateway
# Force Netty for reactive Gateway (no Tomcat)

# Initialize Netty at build time for better performance
Args = --initialize-at-build-time=io.netty.util.internal.logging.InternalLoggerFactory \
       --initialize-at-build-time=io.netty.util.internal.logging.Slf4JLoggerFactory \
       --initialize-at-build-time=io.netty.util.internal.PlatformDependent0 \
       --initialize-at-build-time=io.netty.util.internal.PlatformDependent \
       --initialize-at-build-time=io.netty.util.AbstractReferenceCounted \
       --initialize-at-build-time=reactor.netty.http.server.HttpServer \
       --initialize-at-build-time=reactor.netty.resources.LoopResources

# Exclude Tomcat completely
Args = --initialize-at-run-time=org.apache.tomcat \
       --initialize-at-run-time=org.apache.catalina

# Enable verbose output for debugging
Args = -H:+ReportExceptionStackTraces \
       --verbose